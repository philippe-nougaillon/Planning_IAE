<script>
  function refreshProgressBar() {
    // heure d'hiver
    const now = parseInt((Date.now() + 3600000) / 1000)
    // heure d'été
    // const now = parseInt((Date.now() + 7200000) / 1000)
    const elements = document.getElementsByClassName("progress");

    for(let element of elements){
      let debut = parseInt(element.dataset.debut);
      let fin = parseInt(element.dataset.fin);

      if (now > debut && now < fin) {
        let duree_totale = fin - debut;
        let duree_ecoulee = now - debut;
        // mettre à jour le pourcentage de la barre de progression
        element.value = (duree_ecoulee / duree_totale) * 100;
      }
      else if (now > fin && element.value < 100) {
        element.value = 100;
      }
    }
  }

  setInterval(function() {refreshProgressBar()}, 60000);
</script>